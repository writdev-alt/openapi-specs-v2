/api/v2/initiate-payment-qris:
  post:
    summary: 'Process QRIS payment request.'
    operationId: processQRISPaymentRequest
    description: "Create a QRIS (Quick Response Code Indonesian Standard) payment request that is routed\nthrough the Netzme payment gateway. The response contains the QR data needed for rendering\nthe QR code along with transaction identifiers."
    parameters:
      -
        in: header
        name: X-API-KEY
        description: 'Merchant public API key for authentication. Obtain from the merchant dashboard under API Access.'
        example: '{X-API-KEY}'
        schema:
          type: string
      -
        in: header
        name: X-MERCHANT-KEY
        description: 'Merchant secret API key for authentication. Obtain from the merchant dashboard under API Access.'
        example: '{X-MERCHANT-KEY}'
        schema:
          type: string
    responses:
      200:
        description: 'QRIS payment request created successfully. Returns transaction ID, reference, and QR code content.'
        content:
          application/json:
            schema:
              type: object
              example:
                trx_id: TRX20241101001
                ref_trx: INV-2024-0001
                qris_content: 00020101021226680012IDCO...
              properties:
                trx_id:
                  type: string
                  example: TRX20241101001
                ref_trx:
                  type: string
                  example: INV-2024-0001
                qris_content:
                  type: string
                  example: 00020101021226680012IDCO...
      422:
        $ref: '#/components/responses/ValidationError'
      500:
        $ref: '#/components/responses/ServerError'
    tags:
      - Payments
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              ref_trx:
                type: string
                description: 'Unique merchant transaction reference.'
                example: INV-2024-0001
                nullable: false
              currency_code:
                type: string
                description: 'Must be `IDR`.'
                example: IDR
                nullable: false
              amount:
                type: number
                description: 'Total amount to be charged to the customer.'
                example: 150000.5
                nullable: false
              expiration_time:
                type: integer
                description: 'Expiry time for the QR code in minutes (30 - 1440).'
                example: 60
                nullable: false
              note:
                type: string
                description: 'A short internal note about the transaction.'
                example: 'QRIS top-up'
                nullable: true
              description:
                type: string
                description: 'A customer-facing description that will appear on receipts.'
                example: 'QRIS payment for invoice INV-2024-0001'
                nullable: true
              customer_name:
                type: string
                description: 'Customer full name.'
                example: 'Budi Santoso'
                nullable: true
              customer_phone:
                type: string
                description: 'Customer phone number in international format.'
                example: '+628123456789'
                nullable: true
            required:
              - ref_trx
              - currency_code
              - amount
