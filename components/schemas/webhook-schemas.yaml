schemas:
  WebhookPayload:
    type: object
    required:
      - event
      - data
      - message
      - status
      - timestamp
    properties:
      event:
        type: string
        description: 'Event type identifier (e.g., "receive_payment")'
        example: receive_payment
      data:
        type: object
        description: 'Event-specific data payload'
        additionalProperties: true
      message:
        type: string
        description: 'Human-readable message describing the event'
        example: Receive Payment via QRIS
      status:
        type: string
        description: 'Transaction status'
        example: completed
      timestamp:
        type: integer
        description: 'Unix timestamp when the event occurred'
        example: 1762943651
    example:
      event: receive_payment
      data:
        trxId: TRX-2025.11.12-3QS4LURBQ6
        trxReference: ILONAPAY_69146275622d7
        referenceNumber: '1ittl5s63288'
        amount: '2000.00'
        currencyCode: IDR
        description: null
        customerName: null
        customerEmail: null
        customerPhone: null
        merchantId: 22
        merchantName: KPK79
        paymentMethod: QRIS
      message: Receive Payment via QRIS
      status: completed
      timestamp: 1762943651
  
  PaymentWebhookData:
    type: object
    required:
      - trxId
      - amount
      - currencyCode
      - merchantId
      - merchantName
      - paymentMethod
    properties:
      trxId:
        type: string
        description: 'Unique transaction identifier generated by the system'
        example: TRX-2025.11.12-3QS4LURBQ6
      trxReference:
        type: string
        nullable: true
        description: "Merchant's transaction reference (if provided)"
        example: ILONAPAY_69146275622d7
      referenceNumber:
        type: string
        nullable: true
        description: 'Retrieval Reference Number from the payment gateway'
        example: '1ittl5s63288'
      amount:
        type: string
        description: 'Payment amount as a decimal string'
        example: '2000.00'
      currencyCode:
        type: string
        description: 'Currency code (e.g., "IDR")'
        example: IDR
      description:
        type: string
        nullable: true
        description: 'Customer-facing description'
        example: null
      customerName:
        type: string
        nullable: true
        description: "Customer's full name"
        example: null
      customerEmail:
        type: string
        nullable: true
        description: "Customer's email address"
        example: null
      customerPhone:
        type: string
        nullable: true
        description: "Customer's phone number"
        example: null
      merchantId:
        type: integer
        description: 'Merchant ID'
        example: 22
      merchantName:
        type: string
        description: 'Merchant name'
        example: KPK79
      paymentMethod:
        type: string
        description: 'Payment method used (e.g., "QRIS")'
        example: QRIS
  
  WithdrawalWebhookData:
    type: object
    required:
      - trxId
      - amount
      - netAmount
      - payableAmount
      - currencyCode
      - status
      - merchantId
      - withdrawalMethod
      - trxFee
      - environment
      - isSandbox
    properties:
      trxId:
        type: string
        description: 'Unique transaction identifier generated by the system'
        example: TRX-2025.01.15-ABC123XYZ
      trxReference:
        type: string
        nullable: true
        description: "Merchant's transaction reference (if provided)"
        example: WD-2025-0001
      amount:
        type: string
        description: 'Original withdrawal amount as a decimal string'
        example: '250000.00'
      netAmount:
        type: string
        description: 'Net amount after fees as a decimal string'
        example: '245000.00'
      payableAmount:
        type: string
        description: 'Final amount to be paid out as a decimal string'
        example: '245000.00'
      currencyCode:
        type: string
        description: 'Currency code (e.g., "IDR")'
        example: IDR
      status:
        type: string
        description: 'Withdrawal status (e.g., "pending", "completed", "failed")'
        example: completed
      description:
        type: string
        nullable: true
        description: 'Description of the withdrawal'
        example: Withdrawal to Bank BCA
      merchantId:
        type: integer
        description: 'Merchant ID'
        example: 22
      merchantName:
        type: string
        nullable: true
        description: 'Merchant business name'
        example: KPK79
      withdrawalMethod:
        type: string
        description: 'Withdrawal method used (e.g., "Bank Transfer")'
        example: Bank Transfer
      accountName:
        type: string
        nullable: true
        description: 'Name of the withdrawal account'
        example: Bank BCA
      accountHolderName:
        type: string
        nullable: true
        description: "Account holder's full name"
        example: Budi Santoso
      accountBankName:
        type: string
        nullable: true
        description: 'Bank name for the withdrawal account'
        example: Bank Central Asia
      accountNumber:
        type: string
        nullable: true
        description: 'Account number for withdrawal'
        example: '1234567890'
      accountBankCode:
        type: string
        nullable: true
        description: 'Bank code (e.g., "014" for BCA)'
        example: '014'
      trxFee:
        type: string
        description: 'Transaction fee charged as a decimal string'
        example: '5000.00'
      remarks:
        type: string
        nullable: true
        description: 'Additional remarks or notes'
        example: Withdrawal processed successfully
      environment:
        type: string
        description: 'Environment where the transaction occurred ("production" or "sandbox")'
        example: production
      isSandbox:
        type: boolean
        description: 'Whether the transaction is in sandbox mode'
        example: false

